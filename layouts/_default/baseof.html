<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Дмитрий Каталевский</title>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="/semantic/dist/semantic.min.css">
<script src="/semantic/dist/semantic.min.js"></script>
<link rel="shortcut icon" type="image/x-icon" href="/images/webicon.ico"/>

  <script>
$(document)
    .ready(function() {
$('.ui.dropdown')
  .dropdown({
    on: 'hover'
  })
;

$('.request.modal')
    .modal('attach events', '.request.button', 'show')
;

$('.request.modal').modal({
    onApprove : function() {
        //Submits the semantic ui form
        //And pass the handling responsibilities to the form handlers,
        // e.g. on form validation success
        $('.request.form').submit();
        //Return false as to not close modal dialog
        return false;
    }
});

var formValidationRules =
    {
        name: {
            identifier  : 'name',
            rules: [
                {
                    type   : 'empty',
                },
            ]
        },
        email: {
            identifier  : 'email',
            rules: [
                {
                    type   : 'email',
                },
            ]
        },
    }

var formSettings =
    {
        onSuccess : function()
        {
            //Hides modal on validation success
            $('.request.modal').modal('hide');
        }
    }

$('.request.form').form(formValidationRules, formSettings);
  const scriptURL = 'https://script.google.com/macros/s/AKfycbw-nOO_Dvkfp0QkjwuEzMeZKM_J2wuclJDvuLEcurY3n2Jv77Q/exec'
  const form = document.forms['submit-to-google-sheet']

  form.addEventListener('submit', e => {
    e.preventDefault()
    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
      .then(response => console.log('Success!', response))
      .catch(error => console.error('Error!', error.message))
  })
    })

// When the user clicks on <div>, open the popup
function popPopupUp() {
  var popup = document.getElementById("tocPopup");
  popup.classList.toggle("show");
}

  </script>

  <style type="text/css">
.hidden {
    display: none;
}

.main.menu .toc.item {
    display: none;
}

@media only screen and (max-width: 700px) {
    .main.menu .full.item {
        display: none;
    }
    .main.menu .toc.item {
        display: block;
    }
    .main.menu .logo.item {
        display: block;
    }
}

.myPopup {
    position: relative;
}

.myPopup .segment {
    visibility: hidden;
    position: absolute;
}

.show {
    visibility: visible !important;
}

#tocPopup {
    top: 0;
}
.footer.segment {
    padding: 5em 0em;
}
  </style>
</head>

<body>

<!-- Popups -->
<div class="myPopup">
<div class="ui toc segment basic inverted fluid fixed sticky" id="tocPopup">
  <div class="ui container grid padded two columns">
    <div class="row">
      <div class="column">
        <a class="ui inverted header" href="/">КАТАЛЕВСКИЙ</a>
      </div>
      <div class="column right aligned">
        <div class="ui inverted link list">
          <a class="item" onclick="popPopupUp()"><i class="popup__close times icon"></i></a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="column">
        <h4 class="ui inverted header">Курсы</h4>
        <div class="ui inverted link list">
          <a class="item" href="/system">Системный анализ</a>
          <a class="item" href="/behavior">Поведенческая экономика</a>
          <a class="item" href="/startup">Игра "Стартап"</a>
          <a class="item" href="/restaurants">Игра "Ресторатор"</a>
        </div>
      </div>
      <div class="column">
        <h4 class="ui inverted header">Публикации</h4>
        <div class="ui inverted link list">
          <a class="item" href="/articles">Статьи</a>
          <a class="item" href="/reports">Доклады</a>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="column">
        <h4 class="ui inverted header">Книги</h4>
        <div class="ui inverted link list">
          <a class="item" href="/books#book-model">Основы имитационного моделирования</a>
          <a class="item" href="/books#book-agro">Современные агротехнологии</a>
        </div>
      </div>
      <div class="column">
        <h4 class="ui inverted header">Обо мне</h4>
        <div class="ui inverted link list">
          <a class="item" href="/bio">Биография</a>
          <a class="item" href="/news">Новости</a>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
<div class="ui request modal">
  <i class="close icon"></i>
  <div class="header">Запросить информацию</div>
  <form name="submit-to-google-sheet" action="" class="ui request form content error">
    <div class="required field">
      <label>Как к вам обращаться?</label>
      <input type="text" name="name" placeholder="Не заполнено">
    </div>
    <div class="required field">
      <label>Адрес электронной почты</label>
      <input type="text" name="email" placeholder="Не заполнено">
    </div>
    <button class="ui request_submit ok button">Подать заявку</button>
    <p>Нажимая на эту кнопку вы соглашаетесь с <a class="ui link" href="#">Политикой конфиденциальности</a></p>
  </form>
</div>
<div class="ui main menu fixed large sticky inverted">
  <a class="logo item header" href="/">КАТАЛЕВСКИЙ</a>
  <div class="right full menu">
    <div class="ui menu__courses full item dropdown">
      Курсы
      <i class="dropdown icon"></i>
      <div class="menu">
        <a class="item" href="/system">Системный анализ</a>
        <a class="item" href="/behavior">Принятие решений</a>
        <a class="item" href="/startup">Игра "Стартап"</a>
        <a class="item" href="/restaurants">Игра "Ресторатор"</a>
      </div>
    </div>
    <a class="ui menu__books full item" href="/books">Книги</a>
    <a class="ui menu__articles full item" href="/articles">Статьи</a>
    <a class="ui menu__reports full item" href="/reports">Доклады</a>
    <a class="ui menu__bio full item" href="/bio">Био</a>
    <a class="ui menu__news full item" href="/news">Новости</a>
    <a class="toc item" onclick="popPopupUp()">
      <i class="sidebar icon"></i>
    </a>
  </div>
</div>
  {{ block "main" . }}{{ end }}
<div class="ui segment basic"></div>
<div class="ui inverted vertical footer segment">

  <div class="ui container segment basic">
    <a class="ui inverted header" href="/">KATALEVSKY</a>
  </div>

  <div class="ui container segment basic">
    <div class="ui grid stackable">

    <div class="three wide column centered">
      <h4 class="ui inverted header">Курсы</h4>
      <div class="ui inverted link list">
        <a href="/system" class="item">Системный анализ</a>
        <a href="/behavior" class="item">Поведенческая экономика</a>
        <a href="/startup" class="item">Игра "Стартап"</a>
        <a href="/restaurants" class="item">Игра "Ресторатор"</a>
      </div>
    </div>

    <div class="three wide column">
      <h4 class="ui inverted header">Книги</h4>
      <div class="ui inverted link list">
        <a href="/books#book-model" class="item">Основы имитационного моделирования</a>
        <a href="/books#book-agro" class="item">Современные агротехнологии</a>
      </div>
    </div>

    <div class="three wide column">
      <h4 class="ui inverted header">Публикации</h4>
      <div class="ui inverted link list">
        <a href="/articles" class="item">Статьи</a>
        <a href="/reports" class="item">Доклады</a>
      </div>
    </div>

    <div class="seven wide column">
      <h4 class="ui inverted header">Обо мне</h4>
      <div class="ui inverted link list">
        <a href="/bio" class="item">Биография</a>
        <a href="/news" class="item">Новости</a>
      </div>
    </div>

    </div>
  </div>
</div>
</body>
</html>
